# Dice & Destiny SRD Hub

[![GitHub license](https://img.shields.io/badge/license-DWYW-blue.svg)](https://github.com/thornjad/DWYW)

Dice & Destiny SRD Hub — это веб-платформа, разработанная как ресурс по **SRD 5.1 (System Reference Document 5.1)** на русском языке. Она предоставляет интерфейс для доступа к основным правилам, классам, расам и заклинаниям из SRD, а также форум для обмена и обсуждения **Homebrew-контента** (авторских материалов) по Dungeons & Dragons 5-й редакции.

## Основные возможности

### Портал SRD 5.1 (Системный справочный документ):

*   Доступ к информации по основным разделам SRD 5.1 на русском языке:
    *   **Классы:** Жрец, Воин, Плут, Волшебник (с детальной информацией, включая хиты, владения, умения).
    *   **Виды (Расы):** Человек, Эльф, Дварф, Полурослик (с описанием черт и подрас из SRD).
    *   **Заклинания:** Список заклинаний из SRD с их полным описанием.
    *   **Статические страницы:** Персонаж (основы), Экипировка, Игровой процесс, Сражение, Чудовища (общая информация).
*   Возможность оставлять **комментарии и ответы** на страницах классов, видов и заклинаний (для зарегистрированных пользователей).

### Homebrew Форум (Авторский контент):

*   **Публикация постов:** Зарегистрированные пользователи могут создавать посты со своим авторским контентом.
*   **Категории (Темы):** Посты организуются по темам, таким как:
    *   Новые классы и архетипы
    *   Новые расы и подрасы
    *   Новые заклинания
    *   Магические предметы
    *   Монстры и существа
    *   Приключения и модули
    *   Правила и механики (хомрулы)
    *   Миры и сеттинги
    *   Общее обсуждение и оффтоп
*   **Обсуждение:** Возможность комментировать Homebrew посты и отвечать на комментарии.
*   **Фильтрация:** Список постов можно фильтровать по выбранной теме.
*   **Правила сообщества:** Отображаются на главной странице форума.

### Система Комментариев:

*   Поддержка комментариев для разделов SRD (классы, виды, заклинания) и постов Homebrew.
*   **Вложенные комментарии (ветки)** для ответов.
*   Поддержка базового **Markdown** для форматирования текста постов Homebrew и комментариев.

### Пользователи и Аутентификация:

*   **Регистрация** новых пользователей.
*   **Вход/Выход** из системы.
*   **Профили пользователей:**
    *   Отображение имени пользователя, аватара, даты регистрации и описания "о себе".
    *   Возможность для пользователя **редактировать свой профиль** (имя, описание, аватар, смена пароля).
    *   Возможность просмотра публичных профилей других пользователей.
*   **Роли пользователей (базовая реализация):**
    *   `user` (обычный пользователь)
    *   `moderator` (модератор)
    *   `admin` (администратор)
    *   Назначение ролей через **Flask CLI команду `set-role`**.

### Модерация (базовая реализация):

*   **Авторы** могут удалять свои посты и комментарии.
*   Пользователи с ролью **`moderator`** или **`admin`** могут:
    *   Удалять любые посты Homebrew.
    *   Удалять любые комментарии на сайте.
*   Пользователи с ролью **`admin`** могут удалять других пользователей через их профиль.

## Стек технологий

*   **Бэкенд:** Python, Flask, Flask-SQLAlchemy (с SQLite), Flask-Login, Flask-WTF, Werkzeug.
*   **Фронтенд:** HTML, CSS, JavaScript, Bootstrap 5.
*   **Шаблонизатор:** Jinja2.
*   **Данные SRD:** Частично хранятся в коде (классы, виды, статика), заклинания загружаются из JSON.
*   **Инструменты:** Git.

## Установка и запуск (пример для локальной разработки)

1.  Клонируйте репозиторий:
    ```bash
    git clone <URL_вашего_репозитория>
    cd Dice-Destiny-SRD-Hub
    ```
2.  Создайте и активируйте виртуальное окружение (рекомендуется):
    ```bash
    python -m venv venv
    # Windows:
    venv\Scripts\activate
    # macOS/Linux:
    source venv/bin/activate
    ```
3.  Установите зависимости:
    ```bash
    pip install -r requirements.txt
    ```
4.  Создайте файл `.flaskenv` в корневой директории проекта со следующим содержимым:
    ```
    FLASK_APP=server.py  # или app.py, если вы так назвали главный файл
    FLASK_ENV=development
    FLASK_DEBUG=1
    ```
5.  (Опционально) Создайте файл `config.py` и установите `SECRET_KEY` и путь к БД, или используйте значения по умолчанию.
6.  Убедитесь, что папка `instance/` создана (Flask обычно делает это сам, но если нет, создайте ее для файла БД `app.db`).
7.  Запустите Flask приложение:
    ```bash
    flask run
    ```
8.  Откройте `http://127.0.0.1:5000/` в вашем браузере.

## TODO / Возможные улучшения (Примеры)

*   Полноценный поиск по SRD контенту.
*   Редактирование комментариев.
*   Система уведомлений.
*   Более продвинутые инструменты модерации (например, блокировка пользователей).
*   Загрузка изображений для постов Homebrew.
*   Личные сообщения между пользователями.

---

## Лицензия

Этот проект лицензирован по лицензии "Делай, что хочешь" (DWYW). См. [лицензию DWYW](https://github.com/thornjad/DWYW?ysclid=m8o31qjk7n382921174) для получения подробной информации.

## Участие в разработке

Вклад в разработку приветствуется!  Следуйте стандартной процедуре:

1.  **Форкните репозиторий.**
2.  **Создайте ветку:** `git checkout -b feature/your-feature-name` или `git checkout -b fix/your-bugfix-name`
3.  **Внесите изменения, закоммитьте.**
4.  **Отправьте изменения:** `git push origin feature/your-feature-name`
5.  **Создайте Pull Request.**

## Контакты

*   **GitHub:** [dizmorall](https://github.com/dizmorall)
